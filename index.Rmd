---
title: "Monitoria IF968 - P1 - SI 2021.1"
subtitle: "Recursão"  
author: 
  - "pccn @ cin.ufpe.br  |  (87)99995-2777"
# date: '`r Sys.Date()`' #atualizar isso
date: "29/11/2021"
encoding: "UTF-8"
output:
  xaringan::moon_reader:
    seal: false ####
    css: xaringan-themer.css
    nature:
      titleSlideClass: ["right", "top", "my-title"]
      slideNumberFormat: "%current%"
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: 
    includes:
      after_body: insert-logo.html

---

class: inverse, center, middle
background-image: url(figs/p_and_p_cover.png)
background-size: cover
.hide-logo[
# Monitoria IF968 - P1 - SI 2021.1
<img src="Horizontal Monocromático Preto - Logotipo CIn-UFPE.png" width="500px"/>
## Recursão
### pccn@cin.ufpe.br  |  (87)9 9995-2777  
## 29 de nov de 2021
]
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  cache = FALSE,
  echo = TRUE,
  message = FALSE, 
  warning = FALSE,
  hiline = TRUE
)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
library(xaringanExtra)
# style_duo_accent(
#   primary_color = "#1381B0",
#   secondary_color = "#FF961C",
#   inverse_header_color = "#FFFFFF",
#   title_slide_background_color = "#FF961C",
#   background_image = "Horizontal Monocromático Preto - Logotipo CIn-UFPE.png"
# )
style_mono_accent(background_image = "Horizontal Monocromático Preto - Logotipo CIn-UFPE.png")
```

```{r xaringanExtra-scribble, echo=FALSE}
xaringanExtra::use_scribble()
xaringanExtra::use_panelset()
xaringanExtra::use_progress_bar(color = "#43418a", location = "top", height = "10px")
xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,
  mute_unhighlighted_code = TRUE
)
```


```{r xaringanExtra-clipboard, echo=FALSE}
htmltools::tagList(
  xaringanExtra::use_clipboard(
    button_text = "<i class=\"fa fa-clipboard\"></i>",
    success_text = "<i class=\"fa fa-check\" style=\"color: #90BE6D\"></i>",
  ),
  rmarkdown::html_dependency_font_awesome()
)
```

```{css, echo = FALSE}
# .remark-slide-content {
#   font-size: 28px;
#   padding: 20px 80px 20px 80px;
# }
.remark-code, .remark-inline-code {
  background: #f0f0f0;
}
.remark-code {
  font-size: 24px;
}
.huge .remark-code { /*Change made here*/
  font-size: 200% !important;
}
.tiny .remark-code { /*Change made here*/
  font-size: 80% !important;
}

```

# Recursão
Uma **função** é **recursiva** quando pode chamar a si mesma. 
--
E qual o motivo pra fazer isso?
--

Quebrar problemas maiores em problemas menores, e cada vez menores, até que se chegue num problema _simples_ o suficiente pra ser resolvido de forma fácil.

--
#### Exemplo de um problema simples. A soma dos elementos de uma lista:
.panelset[
.panel[.panel-name[Sem recursão]
```{python, collapse = TRUE}
def soma_lista(lista):
    soma = 0
    for i in lista:
        soma = soma + i
    return soma

print(soma_lista([1,3,5,7,9]))
```
]
.panel[.panel-name[Com Recursão]
```{python, collapse = TRUE}
def soma_lista(lista):
    if len(lista) == 1: # caso base (o mais simples: uma lista de 1 elemento)
        return lista[0]
    else:
        return lista[0] + soma_lista(lista[1:]) # chamada da própria função

print(soma_lista([1,3,5,7,9]))
```
]
]

---

### Caso base e caso recursivo
Por possuir essa característica de "chamar a si mesma", uma função recursiva escrita com descuido, pode acabar entrando num **loop infinito**. Isso é bem comum.
--
.pull-left[
#### Exemplo ilustrativo
Vamos para um exemplo simples, de uma função que conta de 10 até 1 (como se fosse uma brincadeira de "pique-esconde" ou "se esconda"). (Ignore o fato de que 10s são muito pouco pra se esconder adequadamente).
O Cebolinha tem como referências o primeiro valor (o 10), que vai sendo decrementado, e o último (o 1, que antecede o famigerado "Lá vou eu!"). Sem essa referência (o caso base) ele contaria pra sempre, contando até passar do 1 (ou zero) e indefinitivamente até que a Mônica voltasse e arrebentasse com a cara do salafrário.
]
.pull-right[
![](pics\esconde-esconde.jpg)
]

---
### Caso base e caso recursivo
.panelset[
.panel[.panel-name[Contagem]
```{python, collapse = TRUE}
def contagem(i):
    print(f"{i:2}...")
    if i <= 1: # caso base
        print("Lá vou eu!")
    else: # caso recursivo, com o decremento necessário
        contagem(i-1)

```
]
.panel[.panel-name[Resultado]
```{python, collapse = TRUE}
contagem(10)
```
]
.panel[.panel-name[Sem caso base]
```{python, collapse = TRUE}
def contagem_2(i):
    print(i)
    contagem_2(i-1)
```
]
.panel[.panel-name[Resultado 2]
```{python, collapse = TRUE, error = TRUE}
contagem_2(10)
```
]
]
---
### Pilha de Recursão
Você pode ter percebido que ao invés de ter rodado sem parar, o exemplo sem o caso base retornou um **erro de recursão**:
```
## RecursionError: maximum recursion depth exceeded
```
Isso se deve à forma pela qual o Python lida com as chamadas de funções recursivas. Há um limite no tamanho da pilha que é formada com as chamadas e se ele for excedido a execução para com o erro. É uma forma de proteger a memória do computador. Em outras linguagens o tamanho da pilha pode variar e o modo como esse problema é tratado também, mas em geral uma pilha é montada com as chamadas das funções recursivas.
---

### As "3 leis da recursão"
A partir dos exemplos ilustrativos anteriores, podemos então definir 3 regras básicas (ou características) para que uma função seja de fato recursiva:

1. deve ter um **caso básico**

2. deve **mudar o seu estado** e se **aproximar do caso básico**.

3. deve **chamar a si mesmo**, recursivamente.

---
## Typography

Text can be **bold**, _italic_, ~~strikethrough~~, or `inline code`.

[Link to another slide](#colors).

### Lorem Ipsum

Dolor imperdiet nostra sapien scelerisque praesent curae metus facilisis dignissim tortor. 
Lacinia neque mollis nascetur neque urna velit bibendum. 
Himenaeos suspendisse leo varius mus risus sagittis aliquet venenatis duis nec.

- Dolor cubilia nostra nunc sodales

- Consectetur aliquet mauris blandit

- Ipsum dis nec porttitor urna sed

---
name: colors

## Colors

.left-column[
Text color

[Link Color](#3)

**Bold Color**

_Italic Color_

`Inline Code`
]

.right-column[
Lorem ipsum dolor sit amet, [consectetur adipiscing elit (link)](#3), 
sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
Erat nam at lectus urna.
Pellentesque elit ullamcorper **dignissim cras tincidunt (bold)** lobortis feugiat. 
_Eros donec ac odio tempor_ orci dapibus ultrices. 
Id porta nibh venenatis cras sed felis eget velit aliquet.
Aliquam id diam maecenas ultricies mi.
Enim sit amet 
`code_color("inline")`
venenatis urna cursus eget nunc scelerisque viverra.
]

---

# Big Topic or Inverse Slides `#`

## Slide Headings `##`

### Sub-slide Headings `###`

#### Bold Call-Out `####`

This is a normal paragraph text. Only use header levels 1-4.

##### Possible, but not recommended `#####`

###### Definitely don't use h6 `######`

---

# Left-Column Headings

.left-column[
## First

## Second

## Third
]

.right-column[
Dolor quis aptent mus a dictum ultricies egestas.

Amet egestas neque tempor fermentum proin massa!

Dolor elementum fermentum pharetra lectus arcu pulvinar.
]

---
class: inverse center middle

# Topic Changing Interstitial

--

```
class: inverse center middle
```

---
layout: true

## Blocks

---

### Blockquote

> This is a blockquote following a header.
>
> When something is important enough, you do it even if the odds are not in your favor.

---

### Code Blocks

#### R Code

```{r eval=FALSE}
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp, size = pop, color = country) +
  geom_point() +
  facet_wrap(~year)
```

#### JavaScript

```js
var fun = function lang(l) {
  dateformat.i18n = require('./lang/' + l)
  return true;
}
```

---

### More R Code

```{r eval=FALSE}
dplyr::starwars %>% dplyr::slice_sample(n = 4)
```

---

```{r message=TRUE, eval=requireNamespace("cli", quietly = TRUE)}
cli::cli_alert_success("It worked!")
```

--

```{r message=TRUE}
message("Just a friendly message")
```

--

```{r warning=TRUE}
warning("This could be bad...")
```

--

```{r error=TRUE}
stop("I hope you're sitting down for this")
```


---
layout: true

## Tables

---
exclude: `r if (requireNamespace("tibble", quietly=TRUE)) "false" else "true"`

```{r eval=requireNamespace("tibble", quietly=TRUE)}
tibble::as_tibble(mtcars)
```

---

```{r}
knitr::kable(head(mtcars), format = 'html')
```

---
exclude: `r if (requireNamespace("DT", quietly=TRUE)) "false" else "true"`

```{r eval=requireNamespace("DT", quietly=TRUE)}
DT::datatable(head(mtcars), fillContainer = FALSE, options = list(pageLength = 4))
```

---
layout: true

## Lists

---

.pull-left[
#### Here is an unordered list:

*   Item foo
*   Item bar
*   Item baz
*   Item zip
]

.pull-right[

#### And an ordered list:

1.  Item one
1.  Item two
1.  Item three
1.  Item four
]

---

### And a nested list:

- level 1 item
  - level 2 item
  - level 2 item
    - level 3 item
    - level 3 item
- level 1 item
  - level 2 item
  - level 2 item
  - level 2 item
- level 1 item
  - level 2 item
  - level 2 item
- level 1 item

---

### Nesting an ol in ul in an ol

- level 1 item (ul)
  1. level 2 item (ol)
  1. level 2 item (ol)
    - level 3 item (ul)
    - level 3 item (ul)
- level 1 item (ul)
  1. level 2 item (ol)
  1. level 2 item (ol)
    - level 3 item (ul)
    - level 3 item (ul)
  1. level 4 item (ol)
  1. level 4 item (ol)
    - level 3 item (ul)
    - level 3 item (ul)
- level 1 item (ul)

---
layout: true

## Plots

---

```{r plot-example, eval=requireNamespace("ggplot2", quietly=TRUE)}
library(ggplot2)
(g <- ggplot(mpg) + aes(hwy, cty, color = class) + geom_point())
```

---

```{r plot-example-themed, eval=requireNamespace("ggplot2", quietly=TRUE)}
g + xaringanthemer::theme_xaringan(text_font_size = 16, title_font_size = 18) +
  ggtitle("A Plot About Cars")
```

---
layout: false

## Square image

<center><img src="https://octodex.github.com/images/labtocat.png" height="400px" /></center>

.footnote[GitHub Octocat]

---

### Wide image

![](https://guides.github.com/activities/hello-world/branching.png)

.footnote[Wide images scale to 100% slide width]

---

## Two images

.pull-left[
![](https://octodex.github.com/images/motherhubbertocat.png)
]

.pull-right[
![](https://octodex.github.com/images/dinotocat.png)
]

---

### Definition lists can be used with HTML syntax.

<dl>
<dt>Name</dt>
<dd>Godzilla</dd>
<dt>Born</dt>
<dd>1952</dd>
<dt>Birthplace</dt>
<dd>Japan</dd>
<dt>Color</dt>
<dd>Green</dd>
</dl>

---
class: center, middle

# Thanks!

Slides created via the R packages:

[**xaringan**](https://github.com/yihui/xaringan)<br>
[gadenbuie/xaringanthemer](https://github.com/gadenbuie/xaringanthemer)

The chakra comes from [remark.js](https://remarkjs.com), [**knitr**](http://yihui.name/knitr), and [R Markdown](https://rmarkdown.rstudio.com).
